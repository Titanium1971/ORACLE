/* ===========================
   FONTS — MORENA (À LA RACINE)
============================ */
@font-face { font-family: "Morena"; src: url("Morena-ExtraLight.otf") format("opentype"); font-weight: 200; font-style: normal; font-display: swap; }
@font-face { font-family: "Morena"; src: url("Morena-Light.otf") format("opentype"); font-weight: 300; font-style: normal; font-display: swap; }
@font-face { font-family: "Morena"; src: url("Morena.otf") format("opentype"); font-weight: 400; font-style: normal; font-display: swap; }
@font-face { font-family: "Morena"; src: url("Morena-Semibold.otf") format("opentype"); font-weight: 600; font-style: normal; font-display: swap; }
@font-face { font-family: "Morena"; src: url("Morena-Bold.otf") format("opentype"); font-weight: 700; font-style: normal; font-display: swap; }

*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root{
  --velvet-black:#050505;
  --card-bg:#101010;
  --velvet-gold:#c8a96a;
  --velvet-gold-soft:#e4c98c;
  --amber-soft:#d9b677;
  --text-main:#f5f2e8;
  --text-muted:rgba(245,242,232,.72);
  --danger:#ff4b4b;
  --success:#27ae60;
  --card-border:rgba(200,169,106,.45);
  --option-bg:#151515;
  --option-border:rgba(255,255,255,.05);

  --font-body:-apple-system,BlinkMacSystemFont,"SF Pro Text",system-ui,-webkit-system-font,"Segoe UI",Roboto,sans-serif;
  --font-display:"Morena",-apple-system,BlinkMacSystemFont,"SF Pro Text",system-ui,-webkit-system-font,"Segoe UI",Roboto,sans-serif;

  --neutral-glow: rgba(200,169,106,0.22);
  --neutral-glow-2: rgba(245,242,232,0.10);
  --good-glow: rgba(39,174,96,0.35);
  --bad-glow: rgba(255,75,75,0.28);
  --gold-glow: rgba(200,169,106,0.48);
  --gold-glow-soft: rgba(228,201,140,0.20);
}

/* ===========================
   ✅ TYPO SWITCH (Velvet / Standard)
   - piloté par body.font-velvet / body.font-standard
============================ */
body.font-velvet{
  font-family: var(--font-display);
}
body.font-standard{
  font-family: var(--font-body);
}

/* Héritage : tout ce qui est input/button/textarea suit le choix,
   sauf là où tu forces volontairement une font (ex: explications) */
body.font-standard button,
body.font-standard input,
body.font-standard textarea,
body.font-standard select{
  font-family: var(--font-body);
}
body.font-velvet button,
body.font-velvet input,
body.font-velvet textarea,
body.font-velvet select{
  font-family: var(--font-display);
}

body{
  background: radial-gradient(circle at top, #181818 0, #050505 52%, #000 100%);
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px 14px;
  font-family:var(--font-display);
  color:var(--text-main);
}

button, input, textarea, select{
  font-family: var(--font-display);
  -webkit-font-smoothing: antialiased;
  text-rendering: geometricPrecision;
}

.frame{ width:100%; max-width:480px; animation: fadeIn .6s ease-out; }
.hidden{ display:none !important; }

.logo{ display:flex; justify-content:center; align-items:center; margin-bottom:18px; }
.logo img{ max-width:180px; opacity:.97; filter: drop-shadow(0 4px 14px rgba(0,0,0,.7)); }

/* ===== ANTICHAMBRE ===== */
.badge{
  font-size:11px; letter-spacing:.35em; text-transform:uppercase;
  color:var(--text-muted); opacity:.7; margin-bottom:18px; text-align:center;
  font-weight:600;
}

.card{
  width:100%;
  background: linear-gradient(145deg, #0a0a0a, #121212);
  border-radius:20px;
  border:1px solid var(--card-border);
  box-shadow: 0 24px 60px rgba(0,0,0,.9), 0 0 0 1px rgba(255,255,255,.02);
  padding:26px 22px 24px;
  overflow:hidden;
  text-align:center;
}

.title{
  font-weight:600;
  font-size:26px;
  letter-spacing:.08em;
  text-transform:uppercase;
  margin-bottom:6px;
}

.subtitle{
  font-weight:300;
  font-size:13px;
  text-transform:uppercase;
  letter-spacing:.24em;
  color:var(--text-muted);
  margin-bottom:18px;
}

.divider{
  width:40px; height:1px;
  background: linear-gradient(90deg, transparent, rgba(200,169,106,.9), transparent);
  margin: 0 auto 18px auto;
}

.body-text{ font-size:15px; line-height:1.75; color:var(--text-muted); margin-bottom:20px; font-weight:600; }
.body-text span{ color:var(--velvet-gold-soft); }
.footer-text{ font-size:13px; line-height:1.7; color:rgba(245,242,232,.7); margin-bottom:20px; font-weight:600; }
.note{ font-size:11px; text-align:center; letter-spacing:.18em; text-transform:uppercase; color:rgba(245,242,232,.55); margin-bottom:10px; font-weight:600; }

.cta{
  width:100%;
  border-radius:999px;
  border:none;
  padding:14px 18px;
  font-size:15px;
  font-weight:700;
  letter-spacing:.14em;
  text-transform:uppercase;
  background: linear-gradient(135deg, var(--velvet-gold), var(--velvet-gold-soft));
  color:#000;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:6px;
  box-shadow: 0 18px 40px rgba(0,0,0,.9), 0 0 0 1px rgba(0,0,0,.6);
  transition: transform .16s ease-out, box-shadow .16s ease-out, filter .16s ease-out;
  font-family: var(--font-display);
}
.cta:active{ transform: translateY(1px); filter: brightness(.96); box-shadow: 0 10px 26px rgba(0,0,0,.9), 0 0 0 1px rgba(0,0,0,.7); }

.under-card{ margin-top:14px; font-size:11px; text-align:center; color:rgba(245,242,232,.45); font-weight:600; }

/* ===== CHAMBRE ===== */
.chamber{
  width:100%;
  background: radial-gradient(circle at top, #0b0b0b 0, #020202 60%, #000 100%);
  border-radius:22px;
  border:1px solid rgba(200,169,106,.35);
  box-shadow: 0 26px 70px rgba(0,0,0,.95), 0 0 0 1px rgba(255,255,255,.02);
  padding:26px 22px 26px;
  text-align:center;
}



/* ===========================
   ✅ Fullscreen — Variant A “Le Sceau”
   - centré dans la carte Chambre
   - discret, premium, tactile
=========================== */
.fs-seal-wrap{
  display:flex;
  justify-content:center;
  align-items:center;
  margin: -4px 0 14px;
}

/* Par défaut, on l’aligne à gauche (comme un sceau dans le cadre),
   mais l’œil le perçoit comme “posé” et non collé à l’écran */
.fs-seal{
  appearance:none;
  height:44px;
  min-height:44px;
  padding: 0 14px;
  border-radius:999px;
  border:1px solid rgba(200,169,106,0.38);
  background:
    radial-gradient(circle at 30% 30%, rgba(228,201,140,0.14), rgba(0,0,0,0.55) 58%, rgba(0,0,0,0.82) 100%);
  color: rgba(228,201,140,0.92);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap: 10px;
  cursor:pointer;
  box-shadow:
    0 18px 38px rgba(0,0,0,0.78),
    0 0 0 1px rgba(255,255,255,0.02);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transition: transform .14s ease-out, box-shadow .18s ease-out, filter .18s ease-out, opacity .18s ease-out;
  user-select:none;
  -webkit-tap-highlight-color: transparent;
}

.fs-seal:active{ transform: translateY(1px); filter: brightness(.97); }

@media (hover:hover) and (pointer:fine){
  .fs-seal:hover{
    box-shadow:
      0 22px 46px rgba(0,0,0,0.84),
      0 0 0 1px rgba(255,255,255,0.03),
      0 0 26px var(--gold-glow-soft);
  }
}

.fs-seal-icon{
  width:18px;
  height:18px;
  display:block;
  opacity:0.92;
}

.fs-seal.active{
  box-shadow:
    0 22px 52px rgba(0,0,0,0.90),
    0 0 0 1px rgba(255,255,255,0.03),
    0 0 34px var(--gold-glow);
}

.fs-seal.settled{
  opacity:0.78;
}

/* Safe-area iOS : évite qu’il touche le haut quand Telegram réduit l’espace */
@supports (padding-top: env(safe-area-inset-top)){
  .fs-seal-wrap{ padding-top: env(safe-area-inset-top); }
}
.chamber-heading{
  font-size:11px; letter-spacing:.28em; text-transform:uppercase;
  color:rgba(245,242,232,.6); margin-bottom:14px;
  font-weight:600;
}
.chamber-title{
  font-weight:600;
  font-size:20px;
  text-transform:uppercase;
  letter-spacing:.16em;
  color:var(--velvet-gold-soft);
  margin-bottom:12px;
}
.chamber-line{
  width:56px; height:1px;
  background: linear-gradient(90deg, rgba(200,169,106,0), rgba(200,169,106,.9), rgba(200,169,106,0));
  margin: 0 auto 18px auto;
}
.chamber-text{
  font-size:15px; line-height:1.75; color:rgba(245,242,232,.78); margin-bottom:26px;
  font-weight:600;
}
.chamber-text span{ color:var(--velvet-gold-soft); }
.chamber-cta{
  width:100%;
  border-radius:999px;
  border:1px solid rgba(200,169,106,.4);
  padding:13px 18px;
  background:#111;
  color:var(--velvet-gold-soft);
  letter-spacing:.16em;
  text-transform:uppercase;
  font-size:13px;
  cursor:pointer;
  font-weight:700;
  font-family: var(--font-display);
}

/* ===========================
   ✅ Typo choice UI (Chambre)
============================ */
.typo-choice{
  margin: 10px 0 18px;
  text-align:center;
}
.typo-title{
  font-size:11px;
  letter-spacing:.22em;
  text-transform:uppercase;
  color:rgba(245,242,232,.55);
  font-weight:700;
  margin-bottom:10px;
}
.typo-buttons{
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
}
.typo-btn{
  appearance:none;
  border-radius:999px;
  border:1px solid rgba(200,169,106,.30);
  background: rgba(200,169,106,.06);
  color: rgba(228,201,140,.92);
  padding:10px 14px;
  font-size:11px;
  letter-spacing:.16em;
  text-transform:uppercase;
  font-weight:800;
  cursor:pointer;
  transition: transform .12s ease-out, background .16s ease-out, border-color .16s ease-out, box-shadow .16s ease-out, opacity .16s ease-out;
}
.typo-btn:active{ transform: translateY(1px); }
.typo-btn.active{
  border-color: rgba(200,169,106,.70);
  background: rgba(200,169,106,.14);
  box-shadow: 0 0 0 1px rgba(200,169,106,.25), 0 0 18px rgba(200,169,106,.10);
}
.typo-btn:not(.active){
  opacity:.92;
}

/* ===== QUIZ ===== */
.quiz-card{
  width:100%;
  background: radial-gradient(circle at top, #151515 0, #050505 55%, #000 100%);
  border-radius:24px;
  border:1px solid rgba(200,169,106,.38);
  box-shadow: 0 30px 80px rgba(0,0,0,.96), 0 0 0 1px rgba(255,255,255,.02);
  padding:22px 18px 18px;
  display:flex;
  flex-direction:column;
  gap:18px;
  position:relative;
  overflow:hidden;
}
.quiz-card::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  opacity:0.18;
  background:
    radial-gradient(circle at 20% 10%, rgba(255,255,255,0.06), transparent 40%),
    radial-gradient(circle at 80% 30%, rgba(200,169,106,0.05), transparent 45%),
    radial-gradient(circle at 50% 90%, rgba(255,255,255,0.04), transparent 55%);
  mix-blend-mode: screen;
  z-index:1;
}

.quiz-card.signature{
  border-color: rgba(200,169,106,0.60);
  box-shadow:
    0 30px 80px rgba(0,0,0,0.96),
    0 0 0 1px rgba(255,255,255,0.02),
    0 0 34px var(--gold-glow),
    0 0 70px var(--gold-glow-soft);
  animation: signatureBreath 2.8s ease-in-out infinite;
}
@keyframes signatureBreath{ 0%,100%{ filter: brightness(1);} 50%{ filter: brightness(1.06);} }

/* ===== Anneau horloger (Signature) ===== */
.quiz-card.signature::after{
  content:"";
  position:absolute;
  inset:12px;
  border-radius:20px;
  pointer-events:none;
  z-index:4;
  background:
    conic-gradient(
      from 0deg,
      rgba(200,169,106,0.00) 0deg,
      rgba(200,169,106,0.00) 300deg,
      rgba(200,169,106,0.18) 330deg,
      rgba(200,169,106,0.00) 360deg
    );
  -webkit-mask: radial-gradient(farthest-side, transparent calc(100% - 3px), #000 calc(100% - 2px));
  mask: radial-gradient(farthest-side, transparent calc(100% - 3px), #000 calc(100% - 2px));
  animation: velvetClockRing 110s linear infinite;
  opacity:0.95;
}
.quiz-card.signature .clock-ring-stroke{
  position:absolute;
  inset:14px;
  border-radius:18px;
  border:1px solid rgba(200,169,106,0.42);
  box-shadow:
    0 0 10px rgba(200,169,106,0.12),
    0 0 28px rgba(200,169,106,0.08);
  pointer-events:none;
  z-index:3;
  display:none;
}
@keyframes velvetClockRing{ to { transform: rotate(360deg); } }
@media (prefers-reduced-motion: reduce){ .quiz-card.signature::after{ animation:none; } }

/* ===== Patine argentique — vignettage subtil (overlay dédié) ===== */
.quiz-vignette{
  position:absolute;
  inset:0;
  pointer-events:none;
  border-radius:24px;
  background:
    radial-gradient(
      circle at center,
      rgba(0,0,0,0) 58%,
      rgba(0,0,0,0.18) 72%,
      rgba(0,0,0,0.38) 100%
    );
  opacity:0.55;
  mix-blend-mode: multiply;
  z-index:2;
}

.quiz-header,
.quiz-main,
.quiz-options,
.quiz-footer,
.quiz-actions{
  position:relative;
  z-index:5;
}

.quiz-footer.vertical{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
  margin-top:12px;
}

.quiz-footer .centered{
  text-align:center;
}

.quiz-timer{
  font-size:12px;
  letter-spacing:.22em;
  text-transform:uppercase;
  font-weight:700;
  color:rgba(245,242,232,.7);
}

.quiz-step{
  font-size:12px;
  letter-spacing:.2em;
  text-transform:uppercase;
  font-weight:700;
  color:rgba(245,242,232,.58);
}

.quiz-header{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:4px; }
.quiz-logo-small img{ width:110px; opacity:.9; }

.quiz-progress{
  padding:7px 12px;
  border-radius:999px;
  border:1px solid rgba(200,169,106,.45);
  font-size:11px;
  letter-spacing:.16em;
  text-transform:uppercase;
  color:rgba(245,242,232,.85);
  white-space:nowrap;
  font-weight:700;
}
.quiz-progress span{ color:var(--velvet-gold-soft); }

.quiz-main{ padding:10px 4px 2px; }
.quiz-label{ font-size:12px; letter-spacing:.26em; text-transform:uppercase; color:rgba(245,242,232,.6); margin-bottom:10px; font-weight:700; }
.quiz-question{ font-size:19px; line-height:1.8; color:var(--text-main); font-weight:600; }

/* ===== Barre de temps ultra-fine ===== */
.time-rail{
  margin-top:12px;
  height:2px;
  border-radius:999px;
  background: rgba(200,169,106,0.10);
  overflow:hidden;
  position:relative;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02);
}
.time-rail .time-fill{
  height:100%;
  width:100%;
  border-radius:999px;
  background: linear-gradient(90deg, rgba(200,169,106,0.20), rgba(228,201,140,0.62), rgba(200,169,106,0.20));
  transform-origin: left center;
  transform: scaleX(1);
  opacity:0.92;
  transition: transform 0.18s linear;
  filter: drop-shadow(0 0 8px rgba(200,169,106,0.18));
}
.time-rail.lecture .time-fill{
  opacity:0.75;
  filter: drop-shadow(0 0 6px rgba(200,169,106,0.12));
}
.quiz-card.signature .time-rail{ background: rgba(200,169,106,0.14); }

.quiz-meta{ font-size:12px; letter-spacing:.22em; text-transform:uppercase; color:rgba(245,242,232,.5); margin-top:14px; font-weight:700; }

/* ✅ Explications en font système */
.quiz-explanation{
  margin-top:16px;
  padding:14px 14px 12px;
  border-radius:18px;
  background: linear-gradient(180deg, #111, #070707);
  border:1px solid rgba(200,169,106,.22);
  box-shadow: 0 16px 40px rgba(0,0,0,.85), 0 0 0 1px rgba(0,0,0,.6);
  font-size:14px;
  line-height:1.7;
  color:rgba(228,201,140,.92);
  font-style: italic;
  animation: exIn .28s ease-out;
  font-family: var(--font-body);
  font-weight: 400;
  letter-spacing: 0.01em;
}
@keyframes exIn{ from{opacity:0; transform: translateY(6px);} to{opacity:1; transform: translateY(0);} }

.quiz-explanation-line{ margin-bottom:4px; }
.ex-label{ text-transform:uppercase; letter-spacing:.16em; font-size:10px; color:rgba(245,242,232,.55); display:block; margin-bottom:4px; font-style:normal; }
.ex-user span.letter{ color:var(--velvet-gold-soft); font-weight:600; }
.ex-user span.text{ color:#f5f2e8; }
.ex-correct span.letter{ color:#f2da9b; font-weight:600; }
.ex-correct span.text{ color:rgba(228,201,140,.96); }
.ex-orion{ margin-top:8px; color:var(--amber-soft); }
.ex-result{ margin-top:6px; font-style:normal; font-size:11px; text-transform:uppercase; letter-spacing:.18em; }
.ex-result.good{ color:#27ae60; } .ex-result.bad{ color:#c0392b; } .ex-result.timeout{ color:#e67e22; }

.quiz-options{ margin-top:12px; display:flex; flex-direction:column; gap:12px; }

/* ===== Reveal (voile + lame de lumière) ===== */
.quiz-options.veil .quiz-option{
  opacity:0.22;
  filter: saturate(0.85) brightness(0.88) blur(0.4px);
  transform: translateZ(0) scale(0.996);
}
.quiz-option .light-sweep{
  position:absolute;
  top:-25%;
  left:-70%;
  width:70%;
  height:150%;
  transform: skewX(-18deg);
  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.00),
    rgba(228,201,140,0.22),
    rgba(245,242,232,0.28),
    rgba(228,201,140,0.22),
    rgba(255,255,255,0.00)
  );
  mix-blend-mode: screen;
  opacity:0.95;
  pointer-events:none;
  animation: sweep 0.75s ease-out forwards; /* ✅ 750ms */
}
@keyframes sweep{
  to { left: 130%; opacity:0; }
}

/* ===== Options ===== */
.quiz-option{
  display:flex; align-items:center; gap:10px;
  width:100%;
  padding:18px 18px;
  background:var(--option-bg);
  border-radius:999px;
  border:1px solid var(--option-border);

  /* ✅ Boost lisibilité (Morena plus visible) */
  color: rgba(245,242,232,.98);
  font-size:17px;

  cursor:pointer;
  transition: background .16s ease-out, transform .12s ease-out, border-color .16s ease-out, box-shadow .16s ease-out, opacity .16s ease-out;
  position:relative;
  overflow:hidden;
  transform: translateZ(0);

  /* ✅ Morena Regular + rendu plus net */
  font-family: var(--font-display);
  font-weight:400;
  -webkit-font-smoothing: antialiased;
  text-rendering: geometricPrecision;
}
.quiz-option:hover{
  border-color: rgba(200,169,106,0.22);
  box-shadow: 0 10px 24px rgba(0,0,0,0.65), 0 0 0 1px rgba(255,255,255,0.03);
  transform: translateY(-1px);
}
.quiz-option:active{ transform: translateY(1px); }
.quiz-option-letter{
  width:34px; height:34px; border-radius:999px;
  border:2px solid rgba(200,169,106,.75);
  display:flex; align-items:center; justify-content:center;
  font-size:15px; color:var(--velvet-gold-soft);
  flex-shrink:0;
  font-weight:700;
  font-family: var(--font-body);
}
.quiz-option-text{
  flex:1;
  text-align:left;

  /* ✅ légèrement plus grand + interligne plus respirant */
  font-size:17px;
  line-height:1.6;

  /* ✅ hérite de Morena Regular */
  font-family: inherit;
  font-weight: inherit;

  /* ✅ micro-contraste */
  text-shadow: 0 1px 0 rgba(0,0,0,0.55);
}

/* ✅ Si l’utilisateur bascule en "standard", on repasse en système */
body.font-standard .quiz-option{
  font-family: var(--font-body);
  font-weight:600;
}
body.font-standard .quiz-option-text{
  font-family: var(--font-body);
  font-weight:600;
  text-shadow:none;
}

.quiz-option.selected{
  background: radial-gradient(circle at top, #22160b 0, #15100a 60%, #060606 100%);
  border-color: rgba(200,169,106,0.95);
  box-shadow: 0 0 0 1px rgba(200,169,106,0.5);
  animation: selectBreath 1.05s ease-in-out infinite;
}
@keyframes selectBreath{ 0%,100%{ filter:brightness(1);} 50%{ filter:brightness(1.08);} }

.quiz-option.disabled{ opacity:.6; cursor:default; pointer-events:none; }

.quiz-option.correct{
  opacity:1 !important;
  border-color: rgba(39,174,96,0.70);
  box-shadow: 0 0 0 1px rgba(39,174,96,0.45), 0 0 24px var(--good-glow);
  background: radial-gradient(circle at top, rgba(39,174,96,0.20) 0, #141414 55%, #060606 100%);
}
.quiz-option.wrong{
  opacity:1 !important;
  border-color: rgba(255,75,75,0.55);
  box-shadow: 0 0 0 1px rgba(255,75,75,0.35), 0 0 18px var(--bad-glow);
  background: radial-gradient(circle at top, rgba(255,75,75,0.14) 0, #141414 55%, #060606 100%);
}
.quiz-option.timeout{ border-color: rgba(230,126,34,0.55); box-shadow: 0 0 0 1px rgba(230,126,34,0.30); }

@keyframes velvetShake{ 0%{transform:translateX(0);} 25%{transform:translateX(-2px);} 50%{transform:translateX(2px);} 75%{transform:translateX(-1px);} 100%{transform:translateX(0);} }
.quiz-option.wrong.shake{ animation: velvetShake .16s ease-in-out 1; }

.quiz-option .ripple{
  position:absolute;
  border-radius:50%;
  transform:scale(0);
  opacity:.55;
  background: radial-gradient(circle, rgba(228,201,140,0.55), rgba(200,169,106,0.15), transparent 70%);
  pointer-events:none;
  animation: ripple .55s ease-out forwards;
}
@keyframes ripple{ to{ transform:scale(3.2); opacity:0; } }

/* ===== Orfèvrerie : filet doré au survol (desktop only) ===== */
@media (hover:hover) and (pointer:fine){
  .quiz-option::after{
    content:"";
    position:absolute;
    inset:0;
    border-radius:999px;
    pointer-events:none;
    opacity:0;
    transition: opacity .18s ease-out;
    box-shadow:
      inset 0 0 0 1px rgba(200,169,106,0.28),
      inset 0 0 0 2px rgba(200,169,106,0.10);
  }
  .quiz-option:hover::after{ opacity:1; }
}

.quiz-footer{ display:flex; justify-content:space-between; align-items:center; margin-top:10px; font-size:12px; color:rgba(245,242,232,.58); }
.quiz-timer,.quiz-step{ letter-spacing:.2em; text-transform:uppercase; font-weight:700; }
.quiz-timer.pulse{ animation: timerPulse .9s ease-in-out infinite; }
@keyframes timerPulse{ 0%,100%{opacity:.78;} 50%{opacity:1;} }

.quiz-actions{ margin-top:12px; display:flex; justify-content:flex-end; }
.quiz-next{
  border-radius:999px;
  border:none;
  padding:10px 18px;
  background: linear-gradient(135deg, var(--velvet-gold), var(--velvet-gold-soft));
  color:#000;
  font-size:13px;
  letter-spacing:.16em;
  text-transform:uppercase;
  font-weight:800;
  cursor:pointer;
  box-shadow: 0 14px 30px rgba(0,0,0,.9), 0 0 0 1px rgba(0,0,0,.7);
  opacity:.85;
  transition: opacity .15s ease-out, transform .12s ease-out;
  font-family: var(--font-display);
}
.quiz-next:disabled{ opacity:.35; box-shadow:none; cursor:default; }
.quiz-next:not(:disabled):active{ transform: translateY(1px); }

/* ===== RESULT / FEEDBACK ===== */
.result-card,.feedback-final-card{
  width:100%;
  background: radial-gradient(circle at top, #141414 0, #050505 55%, #000 100%);
  border-radius:22px;
  border:1px solid rgba(200,169,106,.35);
  box-shadow: 0 26px 70px rgba(0,0,0,.95), 0 0 0 1px rgba(255,255,255,.02);
  padding:26px 22px 24px;
  text-align:center;
}
.result-heading{
  font-size:11px; letter-spacing:.26em; text-transform:uppercase;
  color:rgba(245,242,232,.65); margin-bottom:10px;
  font-weight:700;
}
.result-title{
  font-weight:600;
  font-size:20px;
  text-transform:uppercase;
  letter-spacing:.16em;
  color:var(--velvet-gold-soft);
  margin-bottom:10px;
}
.result-line{
  width:52px; height:1px;
  background: linear-gradient(90deg, rgba(200,169,106,0), rgba(200,169,106,.9), rgba(200,169,106,0));
  margin: 0 auto 16px auto;
}
.result-score{
  font-size:16px;
  letter-spacing:.22em;
  text-transform:uppercase;
  color:rgba(245,242,232,.8);
  margin-bottom:8px;
  font-weight:800;
}
.result-score span{ color:var(--velvet-gold-soft); }
.result-meta{
  font-size:13px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:rgba(245,242,232,.6);
  margin-bottom:16px;
  font-weight:700;
}
.result-subtitle{ font-size:14px; line-height:1.8; color:rgba(245,242,232,.78); margin-bottom:18px; font-weight:700; }
.result-note{ font-size:12px; line-height:1.7; color:rgba(245,242,232,.6); margin-bottom:20px; font-weight:700; }

.result-cta{
  width:100%;
  border-radius:999px;
  border:none;
  padding:13px 18px;
  background: linear-gradient(135deg, var(--velvet-gold), var(--velvet-gold-soft));
  color:#000;
  font-size:13px;
  letter-spacing:.16em;
  text-transform:uppercase;
  font-weight:800;
  cursor:pointer;
  box-shadow: 0 16px 36px rgba(0,0,0,.9), 0 0 0 1px rgba(0,0,0,.7);
  font-family: var(--font-display);
}

.feedback-title{
  font-weight:600;
  font-size:14px;
  letter-spacing:.14em;
  text-transform:uppercase;
  color:rgba(245,242,232,.82);
  margin-bottom:8px;
}
.feedback-helper{ font-size:13px; line-height:1.7; color:rgba(245,242,232,.6); margin-bottom:12px; font-weight:700; }
.feedback-helper span{ color:var(--velvet-gold-soft); }
.feedback-textarea{
  width:100%;
  min-height:96px;
  border-radius:14px;
  border:1px solid rgba(200,169,106,.55);
  background:#0d0d0d;
  padding:10px 12px;
  font-size:13px;
  line-height:1.5;
  color:var(--text-main);
  resize:vertical;
  outline:none;
  font-family: var(--font-display);
  font-weight:700;
}
.feedback-textarea::placeholder{ color:rgba(245,242,232,.55); }

.feedback-send{
  margin-top:10px;
  width:100%;
  border-radius:999px;
  border:none;
  padding:11px 16px;
  background: linear-gradient(135deg, var(--velvet-gold), var(--velvet-gold-soft));
  color:#000;
  font-size:12px;
  letter-spacing:.16em;
  text-transform:uppercase;
  font-weight:800;
  cursor:pointer;
  box-shadow: 0 12px 28px rgba(0,0,0,.9), 0 0 0 1px rgba(0,0,0,.7);
  font-family: var(--font-display);
}
.feedback-send:disabled{ opacity:.45; cursor:default; box-shadow:none; }

.feedback-final-message{ margin-top:16px; font-size:14px; line-height:1.8; color:rgba(245,242,232,.8); font-weight:700; }
.feedback-final-signature{ margin-top:10px; font-size:11px; text-transform:uppercase; letter-spacing:.18em; color:rgba(245,242,232,.6); font-weight:700; }

@keyframes fadeIn{ from{opacity:0; transform:translateY(10px);} to{opacity:1; transform:translateY(0);} }
@media (min-width:520px){
  .card,.chamber,.quiz-card,.result-card,.feedback-final-card{ padding:26px 24px 26px; }
}

.fs-seal-label{
  font-family: var(--font-display, "Morena", system-ui);
  font-size: 11px;
  font-weight: 800;
  letter-spacing: .10em;
  text-transform: uppercase;
  color: rgba(245,242,232,0.92);
  white-space: nowrap;
}


/* ===========================
   Ritual Loading Overlay
   - UX d’attente pendant le tirage des questions
============================ */
.ritual-loading{
  position: fixed;
  inset: 0;
  z-index: 9999;
  background: radial-gradient(circle at top, #121212 0, #050505 55%, #000 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px 14px;
}

.ritual-loading.hidden{
  display: none !important;
}

.ritual-loader{
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 18px;
  text-align: center;
}

.ritual-ring{
  width: 96px;
  height: 96px;
  border-radius: 999px;
  position: relative;
  overflow: visible; /* halo visible */
}

/* Halo doux (présence) */
.ritual-ring::after{
  content:"";
  position:absolute;
  inset: -18px;
  border-radius: 999px;
  background: radial-gradient(circle at center,
    rgba(200,169,106,.22) 0%,
    rgba(228,201,140,.14) 35%,
    rgba(200,169,106,.06) 55%,
    rgba(0,0,0,0) 72%
  );
  filter: blur(10px);
  opacity: 0.95;
  animation: ritualHalo 2.6s ease-in-out infinite;
  pointer-events: none;
}

/* Anneau tournant (lisible) */
.ritual-ring::before{
  content:"";
  position:absolute;
  inset:-3px;
  border-radius:999px;
  border: 2px solid rgba(200,169,106,.32);
  border-top-color: rgba(200,169,106,.95);
  box-shadow: 0 0 36px rgba(200,169,106,.18);
  animation: ritualSpin 1.8s linear infinite;
  pointer-events: none;
}

/* Texte plus lisible */
.ritual-text{
  font-size: 16px;
  letter-spacing: .18em;
  text-transform: uppercase;
  font-weight: 700;
  color: rgba(228,201,140,.85);
  text-shadow: 0 2px 18px rgba(200,169,106,.18);
}

@keyframes ritualHalo{
  0%,100%{ transform: scale(1); opacity:0.88; }
  50%{ transform: scale(1.06); opacity:1; }
}

@keyframes ritualSpin{
  to { transform: rotate(360deg); }
}


.ritual-loading.settling .ritual-ring::before{
  animation: none;
  border-top-color: rgba(200,169,106,.55);
  box-shadow: 0 0 34px rgba(200,169,106,.12);
}


/* ===========================
   Ritual Closing Overlay
   =========================== */

.ritual-closing {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 1);
  z-index: 10000;

  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 420ms ease;
}

.ritual-closing.hidden {
  display: none;
}

.ritual-closing.show {
  opacity: 1;
}

.ritual-closing-inner {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  padding: 24px 18px;
  text-align: center;
}

.ritual-closing-title {
  font-size: 14px;
  letter-spacing: 0.06em;
  color: rgba(200, 169, 106, 0.78);
  text-transform: uppercase;
}

.ritual-closing-subtitle {
  font-size: 12px;
  letter-spacing: 0.02em;
  color: rgba(200, 169, 106, 0.45);
}


/* ===========================
   VO — HALO RING TEMPOREL (autour de la question)
   Représentation non-numérique du temps (progression circulaire)
=========================== */
#quiz-question{
  position: relative;
}

.vo-timer-ring{
  position: absolute;
  inset: -12px;
  border-radius: 16px;
  pointer-events: none;

  --p: 0; /* 0..1 */
  opacity: 0;
  transition: opacity 180ms ease;
  z-index: 0;
}

.vo-timer-ring.active{
  opacity: 0.38;
}

.vo-timer-ring::before{
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;

  background: conic-gradient(
    from -90deg,
    rgba(200,169,106,0.40) calc(var(--p) * 1turn),
    rgba(200,169,106,0.06) 0
  );

  -webkit-mask: radial-gradient(farthest-side, transparent calc(100% - 3px), #000 calc(100% - 3px));
  mask: radial-gradient(farthest-side, transparent calc(100% - 3px), #000 calc(100% - 3px));
}



/* ===========================
   VO — SUPPRESSION TOTALE DE LA BARRE DE TEMPS
   Anneau = seule représentation temporelle
=========================== */
#time-rail,
.time-rail{
  display: none !important;
}



/* ===========================
   VO — TIMER NUMÉRIQUE MASQUÉ (UI seulement)
=========================== */
#quiz-timer,
.quiz-timer{
  display: none !important;
}
